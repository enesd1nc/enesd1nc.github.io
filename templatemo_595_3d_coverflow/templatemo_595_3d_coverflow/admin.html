<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Duyuru Y√∂netimi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 100px 20px 20px 20px;
        }

        .admin-container {
            max-width: 1200px;
            margin: 0 auto 50px;
            padding: 0 20px;
        }

        .admin-header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            margin-bottom: 30px;
        }

        .admin-header h1 {
            font-size: 2.5em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .admin-header p {
            color: #666;
            font-size: 1.1em;
        }

        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            background: white;
            padding: 10px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .admin-tab {
            flex: 1;
            padding: 15px 30px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            border-radius: 10px;
        }

        .admin-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .admin-panel {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .admin-panel.active {
            display: block;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 1.05em;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            font-family: inherit;
            transition: all 0.3s;
            color: #000;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .file-upload-area {
            border: 3px dashed #e0e0e0;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #fafafa;
        }

        .file-upload-area:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .file-upload-area.dragover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
            transform: scale(1.02);
        }

        .file-upload-area p {
            margin: 10px 0 5px;
            font-size: 1.1em;
            font-weight: 600;
            color: #333;
        }

        .file-upload-area small {
            color: #999;
        }

        .uploaded-files {
            margin-top: 15px;
        }

        .uploaded-file {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 15px;
            background: #f5f5f5;
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.3s;
        }

        .uploaded-file:hover {
            background: #ebebeb;
            transform: translateX(5px);
        }

        .uploaded-file-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .file-icon {
            width: 35px;
            height: 35px;
        }

        .remove-file-btn {
            background: #ff4757;
            color: white;
            border: none;
            padding: 6px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .remove-file-btn:hover {
            background: #ff3838;
            transform: scale(1.05);
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin-top: 10px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .announcements-list {
            display: block;
        }

        /* ƒ∞statistik B√∂l√ºm√º */
        .announcement-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 20px;
        }

        .stat-item {
            background: white;
            border-radius: 15px;
            padding: 20px 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .stat-number {
            display: block;
            font-size: 2.5em;
            font-weight: 800;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.85em;
            color: #666;
            font-weight: 600;
        }

        .stat-total .stat-number { color: #667eea; }
        .stat-kampanya .stat-number { color: #ff6b35; }
        .stat-duyuru .stat-number { color: #764ba2; }
        .stat-haber .stat-number { color: #9b59b6; }
        .stat-etkinlik .stat-number { color: #ee0979; }
        .stat-guncelleme .stat-number { color: #11998e; }

        /* Duyuru Grid */
        .announcement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
        }

        /* Eƒülenceli Duyuru Kartlarƒ± */
        .announcement-card {
            background: white;
            border-radius: 25px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 3px solid transparent;
        }

        .announcement-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #f5576c);
            background-size: 300% 100%;
            animation: gradientMove 3s ease infinite;
        }

        .announcement-card:hover {
            transform: translateY(-10px) rotate(1deg);
            box-shadow: 0 25px 60px rgba(102, 126, 234, 0.3);
        }

        /* Tip'e G√∂re Kart Renkleri */
        .card-Kampanya { border-color: rgba(255, 107, 53, 0.3); background: linear-gradient(135deg, #fff 0%, #fff9f5 100%); }
        .card-Kampanya:hover { border-color: #ff6b35; }

        .card-Duyuru { border-color: rgba(102, 126, 234, 0.3); background: linear-gradient(135deg, #fff 0%, #f0f4ff 100%); }
        .card-Duyuru:hover { border-color: #667eea; }

        .card-Haber { border-color: rgba(155, 89, 182, 0.3); background: linear-gradient(135deg, #fff 0%, #f9f0ff 100%); }
        .card-Haber:hover { border-color: #9b59b6; }

        .card-Etkinlik { border-color: rgba(238, 9, 121, 0.3); background: linear-gradient(135deg, #fff 0%, #fff0f5 100%); }
        .card-Etkinlik:hover { border-color: #ee0979; }

        .card-G√ºncelleme { border-color: rgba(17, 153, 142, 0.3); background: linear-gradient(135deg, #fff 0%, #f0fff9 100%); }
        .card-G√ºncelleme:hover { border-color: #11998e; }

        /* Confetti Dekorasyon */
        .card-confetti {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2em;
            animation: float 3s ease-in-out infinite;
            opacity: 0.8;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(10deg); }
        }

        /* Kart Header */
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .card-type-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.85em;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .card-Kampanya .card-type-badge { background: linear-gradient(135deg, #ff9a56, #ff6b35); color: white; }
        .card-Duyuru .card-type-badge { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .card-Haber .card-type-badge { background: linear-gradient(135deg, #9b59b6, #8e44ad); color: white; }
        .card-Etkinlik .card-type-badge { background: linear-gradient(135deg, #ee0979, #ff6a00); color: white; }
        .card-G√ºncelleme .card-type-badge { background: linear-gradient(135deg, #11998e, #38ef7d); color: white; }

        .card-date {
            font-size: 0.8em;
            color: #888;
            background: #f5f5f5;
            padding: 5px 12px;
            border-radius: 15px;
        }

        /* Kart Ba≈ülƒ±k */
        .card-title {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 12px;
            line-height: 1.4;
            padding-right: 40px;
        }

        /* Kart ƒ∞√ßerik */
        .card-content {
            color: #666;
            line-height: 1.7;
            font-size: 0.95em;
            margin-bottom: 15px;
        }

        /* Ek Dosyalar */
        .card-attachments {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 10px 15px;
            border-radius: 12px;
            font-size: 0.85em;
            color: #555;
            margin-bottom: 15px;
        }

        /* Aksiyon Butonlarƒ± */
        .card-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px dashed #e0e0e0;
        }

        .action-btn {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 700;
            font-size: 0.9em;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .action-btn.view-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .action-btn.view-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .action-btn.delete-btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a5a);
            color: white;
        }

        .action-btn.delete-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(238, 90, 90, 0.4);
        }

        .announcement-item {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
        }

        .announcement-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #f5576c);
            background-size: 300% 100%;
            animation: gradientMove 3s ease infinite;
        }

        @keyframes gradientMove {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .announcement-item:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 50px rgba(102, 126, 234, 0.3);
        }

        .announcement-card-header {
            padding: 25px 25px 15px;
            position: relative;
        }

        .announcement-type-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .type-Kampanya { background: linear-gradient(135deg, #ff9a56, #ff6b35); }
        .type-Duyuru { background: linear-gradient(135deg, #667eea, #764ba2); }
        .type-Haber { background: linear-gradient(135deg, #a8edea, #fed6e3); }
        .type-G√ºncelleme { background: linear-gradient(135deg, #11998e, #38ef7d); }
        .type-Etkinlik { background: linear-gradient(135deg, #ee0979, #ff6a00); }

        .announcement-badge {
            display: inline-block;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-Kampanya { background: linear-gradient(135deg, #fff3e0, #ffe0b2); color: #e65100; }
        .badge-Duyuru { background: linear-gradient(135deg, #e3f2fd, #bbdefb); color: #1565c0; }
        .badge-Haber { background: linear-gradient(135deg, #f3e5f5, #e1bee7); color: #6a1b9a; }
        .badge-G√ºncelleme { background: linear-gradient(135deg, #e8f5e9, #c8e6c9); color: #2e7d32; }
        .badge-Etkinlik { background: linear-gradient(135deg, #fce4ec, #f8bbd0); color: #ad1457; }

        .announcement-item h3 {
            font-size: 1.3em;
            color: #333;
            margin: 10px 0;
            line-height: 1.4;
        }

        .announcement-card-body {
            padding: 0 25px 20px;
        }

        .announcement-item p {
            color: #666;
            line-height: 1.7;
            font-size: 0.95em;
            margin-bottom: 15px;
        }

        .announcement-meta {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
            padding: 15px 0;
            border-top: 1px dashed #e0e0e0;
            margin-top: 10px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.85em;
            color: #888;
            background: #f5f5f5;
            padding: 5px 12px;
            border-radius: 15px;
        }

        .announcement-card-footer {
            padding: 15px 25px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .announcement-actions {
            display: flex;
            gap: 10px;
            width: 100%;
        }

        .edit-btn, .delete-btn, .view-btn {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .view-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .view-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .delete-btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a5a);
            color: white;
        }

        .delete-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(238, 90, 90, 0.4);
        }

        .attachment-list {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .attachment-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 8px 14px;
            background: linear-gradient(135deg, #fff, #f5f5f5);
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            font-size: 0.8em;
            color: #555;
            transition: all 0.3s;
        }

        .attachment-badge:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .empty-state {
            text-align: center;
            padding: 80px 20px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 20px;
            grid-column: 1 / -1;
        }

        .empty-state svg {
            width: 120px;
            height: 120px;
            margin-bottom: 25px;
            opacity: 0.5;
            animation: bounce 2s ease infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .empty-state h3 {
            font-size: 1.5em;
            color: #555;
            margin-bottom: 10px;
        }

        .empty-state p {
            color: #888;
            font-size: 1.1em;
        }

        .announcement-count {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
        }

        .announcement-count h4 {
            font-size: 1.2em;
        }

        .announcement-count .count-number {
            font-size: 2em;
            font-weight: 700;
        }

        @media (max-width: 768px) {
            .admin-header h1 {
                font-size: 1.8em;
            }

            .admin-tabs {
                flex-direction: column;
            }

            .admin-tab {
                width: 100%;
            }

            .announcements-list {
                grid-template-columns: 1fr;
            }

            .announcement-actions {
                flex-direction: column;
            }
        }
    </style>
    <link href="templatemo-3d-coverflow.css" rel="stylesheet">
</head>
<body>
    <div class="admin-container">
        <div class="admin-header">
            <h1>üîê Admin Panel - Duyuru Y√∂netimi</h1>
            <p>Duyuru, kampanya ve fƒ±rsatlarƒ± buradan y√∂netebilirsiniz</p>
        </div>

        <div class="admin-tabs">
            <button class="admin-tab active" data-tab="add">‚ûï Yeni Duyuru Ekle</button>
            <button class="admin-tab" data-tab="list">üìã Duyuru Listesi</button>
        </div>

        <!-- Add Announcement Panel -->
        <div class="admin-panel active" id="addPanel">
            <form id="announcementForm">
                <div class="form-group">
                    <label for="announcementType">üè∑Ô∏è Duyuru T√ºr√º *</label>
                    <select id="announcementType" required>
                        <option value="">Se√ßiniz...</option>
                        <option value="Kampanya">üéÅ Kampanya</option>
                        <option value="Duyuru">üì¢ Duyuru</option>
                        <option value="Haber">üì∞ Haber</option>
                        <option value="G√ºncelleme">üîÑ G√ºncelleme</option>
                        <option value="Etkinlik">üé™ Etkinlik</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="announcementTitle">üìù Ba≈ülƒ±k *</label>
                    <input type="text" id="announcementTitle" placeholder="Duyuru ba≈ülƒ±ƒüƒ±nƒ± girin..." required>
                </div>

                <div class="form-group">
                    <label for="announcementContent">üìÑ Detaylƒ± ƒ∞√ßerik *</label>
                    <textarea id="announcementContent" placeholder="Duyurunun detaylƒ± i√ßeriƒüi..." required></textarea>
                </div>

                <div class="form-group">
                    <label>üìé Dosya Ekle (PDF, Word, Resim)</label>
                    <div class="file-upload-area" id="fileUploadArea">
                        <input type="file" id="fileInput" multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif" style="display: none;">
                        <svg viewBox="0 0 24 24" width="48" height="48" fill="#667eea">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                        </svg>
                        <p>Dosyalarƒ± buraya s√ºr√ºkleyin veya tƒ±klayƒ±n</p>
                        <small>PDF, Word belgeleri ve resimler ekleyebilirsiniz (Maks. 10 dosya)</small>
                    </div>
                    <div class="uploaded-files" id="uploadedFiles"></div>
                </div>

                <button type="submit" class="submit-btn">
                    üíæ Duyuru Kaydet
                </button>
            </form>
        </div>

        <!-- List Announcements Panel -->
        <div class="admin-panel" id="listPanel">
            <div class="announcements-list" id="announcementsList"></div>
        </div>
    </div>

    <script>
        // File handling variables
        let uploadedFiles = [];

        // Tab switching
        document.querySelectorAll('.admin-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.admin-panel').forEach(p => p.classList.remove('active'));
                
                tab.classList.add('active');
                const panelId = tab.dataset.tab === 'add' ? 'addPanel' : 'listPanel';
                document.getElementById(panelId).classList.add('active');
                
                if (tab.dataset.tab === 'list') {
                    loadAnnouncements();
                }
            });
        });

        // File upload area
        const fileUploadArea = document.getElementById('fileUploadArea');
        const fileInput = document.getElementById('fileInput');
        const uploadedFilesDiv = document.getElementById('uploadedFiles');

        fileUploadArea.addEventListener('click', () => fileInput.click());

        fileUploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUploadArea.classList.add('dragover');
        });

        fileUploadArea.addEventListener('dragleave', () => {
            fileUploadArea.classList.remove('dragover');
        });

        fileUploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            fileUploadArea.classList.remove('dragover');
            handleFiles(e.dataTransfer.files);
        });

        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });

        function handleFiles(files) {
            if (uploadedFiles.length + files.length > 10) {
                alert('‚ö†Ô∏è En fazla 10 dosya ekleyebilirsiniz!');
                return;
            }

            Array.from(files).forEach(file => {
                const fileExt = file.name.split('.').pop().toLowerCase();
                const fileIcon = getFileIcon(fileExt);
                const fileSize = formatFileSize(file.size);

                uploadedFiles.push({
                    name: file.name,
                    type: fileExt,
                    size: fileSize,
                    icon: fileIcon
                });
            });
            
            displayUploadedFiles();
        }

        function getFileIcon(ext) {
            if (['pdf'].includes(ext)) return 'üìÑ';
            if (['doc', 'docx'].includes(ext)) return 'üìù';
            if (['jpg', 'jpeg', 'png', 'gif'].includes(ext)) return 'üñºÔ∏è';
            return 'üìé';
        }

        function formatFileSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / 1048576).toFixed(1) + ' MB';
        }

        function displayUploadedFiles() {
            uploadedFilesDiv.innerHTML = uploadedFiles.map((file, index) => `
                <div class="uploaded-file">
                    <div class="uploaded-file-info">
                        <svg class="file-icon" viewBox="0 0 24 24" fill="#667eea">
                            <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                        </svg>
                        <div>
                            <div style="font-weight: 600; color: #333;">${file.name}</div>
                            <div style="font-size: 0.85em; color: #999;">${file.size}</div>
                        </div>
                    </div>
                    <button type="button" class="remove-file-btn" onclick="removeFile(${index})">‚úï Kaldƒ±r</button>
                </div>
            `).join('');
        }

        function removeFile(index) {
            uploadedFiles.splice(index, 1);
            displayUploadedFiles();
        }

        // Form submission
        document.getElementById('announcementForm').addEventListener('submit', (e) => {
            e.preventDefault();

            const typeIcons = {
                'Kampanya': 'üéÅ',
                'Duyuru': 'üì¢',
                'Haber': 'üì∞',
                'G√ºncelleme': 'üîÑ',
                'Etkinlik': 'üé™'
            };

            const type = document.getElementById('announcementType').value;
            
            const announcement = {
                id: Date.now(),
                type: type,
                icon: typeIcons[type],
                title: document.getElementById('announcementTitle').value,
                content: document.getElementById('announcementContent').value,
                date: new Date().toISOString(),
                attachments: uploadedFiles
            };

            // Get existing announcements
            const announcements = JSON.parse(localStorage.getItem('announcements') || '[]');
            announcements.unshift(announcement);
            localStorage.setItem('announcements', JSON.stringify(announcements));

            alert('‚úÖ Duyuru ba≈üarƒ±yla eklendi!');
            e.target.reset();
            uploadedFiles = [];
            displayUploadedFiles();

            // Switch to list tab
            document.querySelectorAll('.admin-tab')[1].click();
        });

        // Load announcements
        function loadAnnouncements() {
            const announcements = JSON.parse(localStorage.getItem('announcements') || '[]');
            const listDiv = document.getElementById('announcementsList');

            if (announcements.length === 0) {
                listDiv.innerHTML = `
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                        </svg>
                        <h3>Hen√ºz duyuru eklenmemi≈ü</h3>
                        <p>Yeni duyuru eklemek i√ßin "Yeni Duyuru Ekle" sekmesini kullanƒ±n</p>
                    </div>
                `;
                return;
            }

            // Sort by date (newest first)
            const sortedAnnouncements = [...announcements].sort((a, b) => {
                return new Date(b.date) - new Date(a.date);
            });

            // ƒ∞statistik sayƒ±larƒ± hesapla
            const stats = {
                total: announcements.length,
                Kampanya: announcements.filter(a => a.type === 'Kampanya').length,
                Duyuru: announcements.filter(a => a.type === 'Duyuru').length,
                Haber: announcements.filter(a => a.type === 'Haber').length,
                Etkinlik: announcements.filter(a => a.type === 'Etkinlik').length,
                G√ºncelleme: announcements.filter(a => a.type === 'G√ºncelleme').length
            };

            // ƒ∞statistik kartlarƒ±nƒ± olu≈ütur
            let statsHtml = `
                <div class="announcement-stats">
                    <div class="stat-item stat-total">
                        <span class="stat-number">${stats.total}</span>
                        <span class="stat-label">Toplam</span>
                    </div>
                    <div class="stat-item stat-kampanya">
                        <span class="stat-number">${stats.Kampanya}</span>
                        <span class="stat-label">üéÅ Kampanya</span>
                    </div>
                    <div class="stat-item stat-duyuru">
                        <span class="stat-number">${stats.Duyuru}</span>
                        <span class="stat-label">üì¢ Duyuru</span>
                    </div>
                    <div class="stat-item stat-haber">
                        <span class="stat-number">${stats.Haber}</span>
                        <span class="stat-label">üì∞ Haber</span>
                    </div>
                    <div class="stat-item stat-etkinlik">
                        <span class="stat-number">${stats.Etkinlik}</span>
                        <span class="stat-label">üéâ Etkinlik</span>
                    </div>
                    <div class="stat-item stat-guncelleme">
                        <span class="stat-number">${stats.G√ºncelleme}</span>
                        <span class="stat-label">üîÑ G√ºncelleme</span>
                    </div>
                </div>
            `;

            let cardsHtml = sortedAnnouncements.map(ann => {
                const date = new Date(ann.date);
                const formattedDate = date.toLocaleDateString('tr-TR', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });

                // Rastgele confetti konumu
                const confettiPositions = ['‚ú®', 'üéä', '‚≠ê', 'üåü', 'üí´', 'üéà'];
                const randomConfetti = confettiPositions[Math.floor(Math.random() * confettiPositions.length)];

                return `
                    <div class="announcement-card card-${ann.type}">
                        <div class="card-confetti">${randomConfetti}</div>
                        <div class="card-header">
                            <span class="card-type-badge">
                                ${ann.icon} ${ann.type}
                            </span>
                            <span class="card-date">üìÖ ${formattedDate}</span>
                        </div>
                        <h3 class="card-title">${ann.title}</h3>
                        <p class="card-content">${ann.content.substring(0, 150)}${ann.content.length > 150 ? '...' : ''}</p>
                        ${ann.attachments && ann.attachments.length > 0 ? `
                            <div class="card-attachments">
                                üìé <strong>${ann.attachments.length}</strong> dosya eklendi
                            </div>
                        ` : ''}
                        <div class="card-actions">
                            <button class="action-btn view-btn" onclick="window.open('duyurular.html', '_blank')">
                                üëÅÔ∏è G√∂r√ºnt√ºle
                            </button>
                            <button class="action-btn delete-btn" onclick="deleteAnnouncement(${ann.id})">
                                üóëÔ∏è Sil
                            </button>
                        </div>
                    </div>
                `;
            }).join('');

            listDiv.innerHTML = statsHtml + '<div class="announcement-grid">' + cardsHtml + '</div>';
        }

        function deleteAnnouncement(id) {
            if (!confirm('Bu duyuruyu silmek istediƒüinizden emin misiniz?')) return;

            let announcements = JSON.parse(localStorage.getItem('announcements') || '[]');
            announcements = announcements.filter(a => a.id !== id);
            localStorage.setItem('announcements', JSON.stringify(announcements));
            loadAnnouncements();
            
            alert('‚úÖ Duyuru silindi!');
        }

        // Initial load if on list tab
        if (document.getElementById('listPanel').classList.contains('active')) {
            loadAnnouncements();
        }
    </script>
    
    <!-- Shared Header and Footer -->
    <script src="shared-components.js"></script>
</body>
</html>
